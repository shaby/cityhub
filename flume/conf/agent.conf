
agent.sources  = mqtt mqttSubPark mqttSubSpot dust weather1 bus1
#mqttSrc dustSrc weather1 weather3 weather3
agent.channels = kafkaChannel loggerChannel
agent.sinks    = kafkaSink loggerSink


## mqttSrc
agent.sources.mqtt.channels = kafkaChannel loggerChannel
agent.sources.mqtt.selector.type = replicating
agent.sources.mqtt.type=com.pinecni.cityhub.source.mqtt.MqttSource
agent.sources.mqtt.URL_ADDR=tcp://203.253.128.164:1883
agent.sources.mqtt.TOPIC=/oneM2M/req/+/SlotYatopParking/#
agent.sources.mqtt.RESP_TOPIC=/oneM2M/resp/Mobius2/SlotYatopParking/json
agent.sources.mqtt.JSON_TAG=parking
agent.sources.mqtt.GS1PREFIX=urn:epc:id:sgln:880002697101.

## mqttSubSrc
agent.sources.mqttSubPark.channels = loggerChannel
agent.sources.mqttSubPark.type=com.pinecni.cityhub.source.mqtt.MqttSubSource
agent.sources.mqttSubPark.PUB_HOST=http://203.253.128.164:7579
agent.sources.mqttSubPark.PUB_CSE_NAME=Mobius
agent.sources.mqttSubPark.PUB_AE_NAME=sync_parking_raw
agent.sources.mqttSubPark.CONN_TERM = 600
agent.sources.mqttSubPark.CONF_FILE = park/parkingList.template

## mqttSpotSrc
agent.sources.mqttSubSpot.channels = loggerChannel
agent.sources.mqttSubSpot.type=com.pinecni.cityhub.source.mqtt.MqttSubSource
agent.sources.mqttSubSpot.PUB_HOST=http://203.253.128.164:7579
agent.sources.mqttSubSpot.PUB_CSE_NAME=Mobius
agent.sources.mqttSubSpot.PUB_AE_NAME=sync_parking_raw
agent.sources.mqttSubSpot.CONN_TERM = 28800
agent.sources.mqttSubSpot.CONF_FILE = park/spotList.template

## dustSrc
agent.sources.dust.channels = kafkaChannel loggerChannel
agent.sources.dust.selector.type = replicating
agent.sources.dust.type = com.pinecni.cityhub.source.dust.DustSource
agent.sources.dust.URL_ADDR = http://openapi.airkorea.or.kr/openapi/services/rest/ArpltnInforInqireSvc/getMsrstnAcctoRltmMesureDnsty
agent.sources.dust.KEY_NAME = ServiceKey
agent.sources.dust.KEY_VALUE = oIuKbB6J5IA0SxVgRwFupmB0m7hIUUu0pb9MhKZk4hx8xL6AFuXWxjVHTkb24eWe5pn9VSGXvpA4ow%2BQ17uSFg%3D%3D
agent.sources.dust.PARAM_NAME = numOfRows^pageNo^ver^searchCondition^dataTerm^_returnType^stationName
agent.sources.dust.PARAM_VALUE = 1^1^1.3^HOUR^DAILY^json^복정동
agent.sources.dust.JSON_TAG = dust
agent.sources.dust.CONN_TERM = 1800
agent.sources.dust.TEMPLATE_FILE = dust/AirQualityObserved.template
agent.sources.dust.STATION_FILE = dust/AirStation.conf

## weather
agent.sources.weather1.channels = kafkaChannel loggerChannel
agent.sources.weather1.selector.type = replicating
agent.sources.weather1.type = com.pinecni.cityhub.source.weather.Weather1Source
agent.sources.weather1.URL_ADDR = http://newsky2.kma.go.kr/service/SecndSrtpdFrcstInfoService2/ForecastGrib
agent.sources.weather1.KEY_NAME = ServiceKey
agent.sources.weather1.KEY_VALUE = NZSNLy9ojkeCj8aGPTNH7K%2FAvIl6wwYkAmvVGTUfWtDZLhyAeHe5O3MlwgvUKaNTUrOgLAVQxoNoSnU3Q9K%2F3Q%3D%3D
agent.sources.weather1.PARAM_NAME = _type^areaNo
agent.sources.weather1.PARAM_VALUE = json^0
agent.sources.weather1.JSON_TAG = weather1
agent.sources.weather1.CONN_TERM = 1800
agent.sources.weather1.STATION_FILE = weather/weatherStation.conf

## bstop
agent.sources.bus1.channels = kafkaChannel loggerChannel
agent.sources.bus1.selector.type = replicating
agent.sources.bus1.type = com.pinecni.cityhub.source.bus.Bus1Source
agent.sources.bus1.URL_ADDR = http://61.43.246.153/openapi-data/service/busanBIMS2/stopArr
agent.sources.bus1.KEY_NAME = ServiceKey
agent.sources.bus1.KEY_VALUE = NZSNLy9ojkeCj8aGPTNH7K%2FAvIl6wwYkAmvVGTUfWtDZLhyAeHe5O3MlwgvUKaNTUrOgLAVQxoNoSnU3Q9K%2F3Q%3D%3D
agent.sources.bus1.PARAM_NAME = _type^areaNo
agent.sources.bus1.PARAM_VALUE = json^0
agent.sources.bus1.JSON_TAG = bus1
agent.sources.bus1.CONN_TERM = 1800
agent.sources.bus1.STATION_FILE = bus/bstopStation.conf



agent.sources.weather2.channels = loggerChannel
agent.sources.weather2.type = com.pinecni.cityhub.source.weather.Weather2Source
agent.sources.weather2.URL_ADDR = https://data.kma.go.kr/apiData/getData
agent.sources.weather2.SERVICE_KEY = Ob2K9fp251do3FWE4lY0TB/7wIA6R7hMuJ7VvRF7PGSFEnvWxoOnayimoevCIkqY
agent.sources.weather2.STARTDT = 20181213
agent.sources.weather2.ENDDT = 20181213

agent.sources.weather3.channels = loggerChannel
agent.sources.weather3.type = com.pinecni.cityhub.source.weather.Weather3Source
agent.sources.weather3.URL_ADDR = http://newsky2.kma.go.kr/service/SecndSrtpdFrcstInfoService2/ForecastTimeData
agent.sources.weather3.SERVICE_KEY = NZSNLy9ojkeCj8aGPTNH7K%2FAvIl6wwYkAmvVGTUfWtDZLhyAeHe5O3MlwgvUKaNTUrOgLAVQxoNoSnU3Q9K%2F3Q%3D%3D
agent.sources.weather3.BASE_DATE = 20181213
agent.sources.weather3.BASE_TIME = 0600
agent.sources.weather3.TIME = 20181213


## kafkaChannel
agent.channels.kafkaChannel.type = memory
agent.channels.kafkaChannel.capacity  = 10000
agent.channels.kafkaChannel.transactionCapacity  = 1000

## loggerChannel
agent.channels.loggerChannel.type = memory
agent.channels.loggerChannel.capacity  = 10000
agent.channels.loggerChannel.transactionCapacity  = 1000

## loggerSink
agent.sinks.loggerSink.channel = loggerChannel
agent.sinks.loggerSink.type = com.pinecni.cityhub.sinks.logger.LoggerSink

## kafkaSink
agent.sinks.kafkaSink.channel = kafkaChannel
agent.sinks.kafkaSink.type = com.pinecni.cityhub.sinks.kafka.KafkaSink
agent.sinks.kafkaSink.kafka.topic = CityHub
agent.sinks.kafkaSink.kafka.bootstrap.servers = kafka:9092
agent.sinks.kafkaSink.kafka.flumeBatchSize = 20



